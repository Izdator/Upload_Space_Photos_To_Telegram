# Загрузка в Telegram фотографии космоса
Программа выгружает фотографии с запусков SpaceX по указанному ID запуска (по умолчанию - последний запуск), 
картинки дня с фотографиями космоса с сайта NASA с помощью API и фотографии Земли, и размещает их с заданным интервалом 
(по умолчанию - 4 часа) в телеграм-канал.

### Установка зависимостей
Для успешного выполнения кода, необходимо установить следующие библиотеки:
1. `argparse` - модуль, предназначенный для разбора аргументов командной строки, что позволяет пользователю передавать переменные и параметры в программу при её запуске.
2. `datetime` - vодуль для работы с датами и временем. Позволяет выполнять операции, такие как получение текущей даты, арифметику дат и форматирование.
3. `json` - модуль для работы с форматом JSON.
4. `load_dotenv` - этот модуль загружает переменные окружения из файла `.env`, где хранятся токены для работы с API NASA и Telegram.
5. `os` - для взаимодействия с операционной системой(работа с файловой системой, управление путями, переменными окружения и выполнение системных команд).
6. `random` - генерация случайных чисел и выполнения операций с ними, включая перемешивание последовательностей или выбор случайных элементов из списка.
7. `requests` - для выполнения HTTP-запросов к API.
8. `sleep` - импортирует функцию sleep, которая приостанавливает выполнение программы на заданное количество секунд.
9. `telegram` - библиотека для работы с API Telegram, позволяющая создавать ботов для отправки сообщений, получения обновлений и взаимодействия с пользователями через Telegram.
10. `urllib.parse` - модуль для работы с URL, который позволяет их разбирать, собирать и манипулировать компонентами URL, такими как схема, хост, путь и параметры запроса.

### Настройка переменных окружения
Переменные окружения помогают скрыть конфиденциальную информацию, такую как токены доступа. В данном коде используется следующая переменная:
- `api_key` — токен доступа для работы с API NASA.
- `token` — токен доступа для работы с API Telegram.
Для получения переменной окружения из кода используется встроенный модуль `os`. Вот пример, как это выглядит:
```
api_key = os.environ['api_key']
```
Персональный ключ API NASA можно получить на сайте [NASA](https://api.nasa.gov/), зарегистрировать бота Telegram в мессенджере [Telegram](https://telegram.me/BotFather).
Сервисный токен выглядит примерно так:
```
958423683:AAEAtJ5Lde5YYfkjergber.
```
Также Python3 должен быть уже установлен. Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```
### Пример запуска скрипта fetch_spacex_images из командной строки. Этот код загружает изображения последнего запуска SpaceX (или указанного запуска по ID) с помощью API SpaceX и сохраняет их в папку images на компьютере.
```
python fetch_spacex_images.py 5eb87d42ffd86e000604b384
```
### Пример запуска скрипта astronomy_picture_of_the_day из командной строки. Этот код выполняет запросы к API NASA для получения астрономических изображений дня, загружает эти изображения и сохраняет их в папку images. Он также использует переменные окружения для хранения конфиденциальных данных, таких как ключ API.
```
python astronomy_picture_of_the_day.py 
```
### Пример запуска скрипта earth_polychromatic_imaging_camera из командной строки. Этот код выполняет запросы к API NASA, чтобы получить полихроматические изображения Земли, загружает эти изображения и сохраняет их в папку images, используя переменные окружения для хранения конфиденциальных данных, таких как ключ API.
```
python earth_polychromatic_imaging_camera.py 
```
### Пример запуска скрипта general_functions из командной строки. Этот код предоставляет две функции: одна для загрузки изображений из Интернета и сохранения их на локальном диске, а другая — для определения расширения файла из URL.
```
python general_functions.py 
```
### Пример запуска скрипта kosmostars_bot из командной строки. Этот код создает Telegram-бота, отправляет текстовое сообщение в указанный чат и прикрепляет к нему изображение.
```
python kosmostars_bot.py 
```
### Пример запуска скрипта posts_photos_automatically из командной строки. Этот код создает Telegram-бота, который случайным образом выбирает изображения из директории images и отправляет их в указанный чат с определенной частотой публикации (в часах, по умолчанию выставлено значение "4 часа").
```
python posts_photos_automatically.py 5
```
### Цель проекта
Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).